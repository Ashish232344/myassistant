<!DOCTYPE html>
<html lang="en">
<head>
  <title>Your Cart</title>
  <meta charset="UTF-8">

  <style>
    body{
      background:#f4fff4;
      font-family:sans-serif;
      margin:0;
    }

    .header{
      background:#2e7d32;
      color:#fff;
      padding:15px;
      text-align:center;
    }

    .cart-box{
      max-width:600px;
      margin:30px auto;
      background:white;
      padding:20px;
      border-radius:10px;
      box-shadow:0 4px 10px rgba(0,0,0,.1);
    }

    .cart-item{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:10px 0;
      border-bottom:1px solid #ddd;
    }

    .cart-item button{
      background:red;
      color:white;
      border:none;
      padding:5px 10px;
      border-radius:5px;
      cursor:pointer;
    }

    .cart-total{
      font-size:20px;
      text-align:right;
      padding-top:15px;
      font-weight:bold;
    }

    .checkout{
      text-align:center;
      margin-top:15px;
    }

    .checkout button{
      background:#2e7d32;
      color:white;
      border:none;
      padding:12px 20px;
      border-radius:7px;
      cursor:pointer;
      font-size:16px;
    }

    .checkout button:hover{
      background:#1b5e20;
    }

    .cod-note{
      color:#2e7d32;
      font-weight:bold;
      margin-bottom:10px;
    }
  </style>
</head>

<body onload="showCart()">

  <!-- HEADER -->
  <div class="header">
    <h1>üõí Your Cart</h1>
  </div>

  <!-- CART BOX -->
  <div class="cart-box">

    <!-- CART ITEMS -->
    <div id="cart-items"></div>

    <!-- TOTAL -->
    <div id="total" class="cart-total"></div>

    <!-- CHECKOUT -->
    <div class="checkout">

      <p class="cod-note">
        üí∞ Payment Method: Cash on Delivery (COD)
      </p>

      <button onclick="checkout()">Place Order</button>
      <br><br>
      <button onclick="clearCart()">Clear Cart</button>

    </div>

  </div>

  <!-- CART FUNCTIONS -->
  <script src="cart.js"></script>

  <!-- COD CHECKOUT SCRIPT -->
  <script>
    function checkout(){

      // 1Ô∏è‚É£ Login check
      if(localStorage.getItem("login") !== "true"){
        alert("Please login to place order");
        window.location.href = "auth.html";
        return;
      }

      // 2Ô∏è‚É£ Get cart
      let cart = JSON.parse(localStorage.getItem("cart")) || [];

      if(cart.length === 0){
        alert("Your cart is empty");
        return;
      }

      // 3Ô∏è‚É£ Calculate total
      let total = cart.reduce((sum,item)=>sum+item.price,0);

      // 4Ô∏è‚É£ Confirm COD
      let confirmOrder = confirm(
        "Payment Method: Cash on Delivery\n" +
        "Total Amount: ‚Çπ" + total + "\n\n" +
        "Confirm order?"
      );

      if(!confirmOrder) return;

      // 5Ô∏è‚É£ Success message
      alert(
        "‚úÖ Order placed successfully!\n" +
        "üí∞ Please pay ‚Çπ" + total + " in cash at the time of delivery."
      );

      // 6Ô∏è‚É£ Clear cart
      clearCart();
    }
  </script>

</body>
</html>
